# SHM v1 API
FORMAT: 1A

## About SHM

TODO

## API Requests

TODO
## Modify Login form

TODO

## Return codes

HTTP 401, 403, 500, 
503 - Restart in progress
TODO

## Your own theme recomendations

Our theme is free under GNU license, you can modify and use them at your own themes.
We used AngularJS and Bootstrap for them.

For using your own theme just upload theme files to `html/MyOwnTheme` folder inside panel homedir and
add theme name to main config `etc/main.conf` at `[Core]` section to `Themes`.
First theme in the list will be default theme for all users. Default language is `EN`.

For example: 
```
[Core]
Themes = ["MyOwnTheme", "Simple"]
```
Service restart needed to reload config.




# Data Structures

## Error (object)
+ error (required,object)

## Files (object)
+ Dir (required, boolean) - Is dir.
+ Name (required, string) - Name of the dir or file.
+ Size (required, number) - Size in bytes.
+ Permissions (required, number) - Permissions.
+ Owner (required, number) - Owner of file or dir.
+ Group (required, number) - Group of file or dir.
+ Modified (required, string) - Date time of last modification.




# Group Remove testing user regularUser

## #AuthRoot for testing user removing [POST /login]

+ Request (application/json)
        {
            "Login": "root",
            "Password": "$ROOT_PASSWORD"
        }

+ Response 200 (application/json)
        {
            "Auth": "Logged",
            "Theme": "Simple",
            "Language": "EN"
        }


## Removing testing user regularUser [POST /api/users/del]

+ Request (application/json)
        {  
            "Name":"$USER_NAME"
        }

+ Response 204 (text/plain)

## Logout from Root [GET /logout]

+ Response 204 (text/plain)




# Group Create regularUser for tests

## #AuthRoot for testing user creation [POST /login]

+ Request (application/json)
        {
            "Login": "root",
            "Password": "$ROOT_PASSWORD"
        }

+ Response 200 (application/json)
        {
            "Auth": "Logged",
            "Theme": "Simple",
            "Language": "EN"
        }

## Create testing user regularUser [POST /api/users/set]

+ Request (application/json)
        {  
            "Username":"$USER_NAME",
            "Password":"$USER_PASSWORD",
            "Info":{  
                "Active":true,
                "Comment":"Just a testing user",
                "Template":"SimpleUser",
                "Email":"root@localhost",
                "Theme":"Alpha",
                "Language":"EN",
                "HOTP":{  
                    "Active":false
                }
            }
        }

+ Response 204 (text/plain)

## Logout from Root [GET /logout]

+ Response 204 (text/plain)




# Group Panel Authorization

First of all you must login into panel as `root` to gain administrator privileges or as a regular user.
For login you must use your credentials of user or root login and password if you are the server administrator.




## User login [/login]
For login you must use your credentials of a user that was registered by the `root` in a panel.

+ Attributes
    + Login (required,string) - User's login, which is email or root for admin.
    + Password (required,string) - User defined password or root password for admin.
    + Hotp (optional, string) - Code from two step authorization app.
    + Auth (string) - Authorization status.

### Login fails [POST]
If login and password is not correct you will receive `403 Forbidden`. 
Debug information about login, user not found or wrong password are in the system's log file.

+ Request (application/json)
        {
        "Login": "$USER_NAME",
        "Password": "wrongUserPassword"
        }

+ Response 403 (application/json)
        {
            "Auth": "Denied"
        }

### Login success #AuthUser [POST]
If login and(or) password is correct you will receive success login response with
`Theme` is a GUI theme, `Language` is a user defined interface language.
Login script do redirect to `https://server:port/Theme` to load GUI for theme.


+ Attributes
    + Theme:Simple (required, string) - User defined GUI theme.
    + Language:EN (required, string) - User defined language for GUI.

+ Request (application/json)
        {
            "Login": "$USER_NAME",
            "Password": "$USER_PASSWORD"
        }

+ Response 200 (application/json)
        {
            "Auth": "Logged",
            "Theme": "Simple",
            "Language": "EN"
        }




### HOTP code required [POST]

How to [turn on two step authorization](two-step-authorization)
If user turned on two step authorization from Google Authenticator or other HOTP compatible mobile app, 
HOTP code must be present along with login and password fields.
You need to repeat login request with HOTP code from user's mobile app.

+ Request (application/json)
        {
            "Login": "hotpUser",
            "Password": "hotpUserSecretPassword"
        }

+ Response 449 (application/json)
        {
            "Auth": "HOTP required"
        }
 
### Login with HOTP success [POST]

If HOTP code from user's app correct, you'll receive `200` and `Login success` reply.

+ Attributes
    + HOTP (required, string) - Code from device for two step authorization.

+ Request (application/json)
        {
            "Login": "hotpUser",
            "Password": "hotpUserSecretPassword",
            "Hotp":"12345"
        }

+ Response 200 (application/json)
        {
            "Auth": "Logged",
            "Theme": "Simple",
            "Language": "EN"
        }


### Login fails because HOTP wrong code [POST]
In case of wrong HOTP code `403` would be received. 
You can send another request with correct HOTP code.

+ Request (application/json)
        {
            "Login": "hotpUser",
            "Password": "hotpUserSecretPassword",
            "Hotp":"54321"
        }

+ Response 403 (application/json)
        {
            "Auth": "HOTP wrong code"
        }




## Root login [/login]
For login you must use your root system password and login `root`.

### Root login fails [POST]
If password is not correct you will receive `403 Forbidden`. 

+ Request (application/json)
        {
        "Login": "root",
        "Password": "wrongPassword"
        }

+ Response 403 (application/json)
        {
            "Auth": "Denied"
        }

### Root login success #AuthRoot [POST]

+ Attributes
    + Theme:Simple (required, string) - User defined GUI theme.
    + Language:EN (required, string) - User defined language for GUI.

+ Request (application/json)
        {
            "Login": "root",
            "Password": "$ROOT_PASSWORD"
        }

+ Response 200 (application/json)
        {
            "Auth": "Logged",
            "Theme": "Simple",
            "Language": "EN"
        }




# Group Create Test environment
Creating test environment.

## Add MySQL test user as #User [POST /api/mysql/users/set]
Add test user for PgSQL dumps.

+ Request (application/json)
        {  
        "Username":"DBUser1",
        "Password":"NewMyDBUserPassword",
        "Host":"localhost"
        }

+ Response 204 (text/plain)

## Add PgSQL test user as #User [POST /api/pgsql/users/set]
Add test user for PgSQL dumps.

+ Request (application/json)
        {  
            "Username":"DbTester",
            "Password":"NewMyDBTesterPassword"
        }

+ Response 204 (text/plain)

## Add PGSQL db for Import as #User [POST /api/pgsql/db/set]

+ Request (application/json)
        {  
            "DbName":"DbImport",
            "DbUser":"DbTester"
        }

+ Response 204 (text/plain)

## Create test.html file by Root [POST /api/filemanager/editfile]
Create /var/www/test.html by Root.

+ Request (application/json)
        {
            "Filename": "/var/www/test.html",
            "Encoding": "ISO 8859-2",
            "Text":"<h1>Hello world!</h1>"
        }

+ Response 204 (text/plain)

## Create /test.html file by #User [POST /api/filemanager/editfile]
Create /home/USER/test.html by User.

+ Request (application/json)
        {
            "Filename": "/test.html",
            "Encoding": "ISO 8859-2",
            "Text":"<h1>Hello world!</h1>"
        }

+ Response 204 (text/plain)

## Create from_root.html in user's dir by Root [POST /api/filemanager/editfile]

+ Request (application/json)
        {
            "Filename": "/home/regularUser/from_root.html",
            "Encoding": "ISO 8859-2",
            "Text":"<h3>Created by root!</h3>"
        }

+ Response 204 (text/plain)

## Create dirs for TAR archive testing as Root [POST /api/filemanager/mkdir]

+ Request (application/json)
        {
            "Dir":   "/var/www",
            "Mkdir": "test_archives/tar"
        }

+ Response 204 (text/plain)

## Create dirs for ZIP archive testing as Root [POST /api/filemanager/mkdir]

+ Request (application/json)
        {
            "Dir":   "/var/www",
            "Mkdir": "test_archives/zip"
        }

+ Response 204 (text/plain)

## Create dir for TAR archive testing as #User [POST /api/filemanager/mkdir]

+ Request (application/json)
        {
            "Dir":   "/www",
            "Mkdir": "test_archives/tar"
        }

+ Response 204 (text/plain)

## Add test.com domain as #User [POST /api/webdomains/set]

+ Request (application/json)
        {  
                "Name":"$TESTING_DOMAIN",
                "Active":true,
                "Alias":"www.$TESTING_DOMAIN site.$TESTING_DOMAIN",
                "Ip":"$SERVER_IP",
                "IndexFile":"index.html",
                "Encoding":"utf8",
                "Subdomains":true,
                "PHP":"fpm_nginx",
                "DNS":true,
                "SSL":false,
                "Analytics":true
        }

+ Response 204 (text/plain)

## Add info@test.com Email box as #User [POST /api/email/set]

+ Request (application/json)
    {  
       "Email":"info@$TESTING_DOMAIN",
       "Alias":"",
       "Size":500,
       "Password":"infoPassword"
    }

+ Response 204 (text/plain)

## Generate DKIM record for info@test.com as #User [POST /api/dkim/set]

+ Request (application/json)
    {  
       "Domain":"$TESTING_DOMAIN"
    }

+ Response 204 (text/plain)




# Group Two step authorization

For using two step authorization you can install **Google Authenticator** or other mobile app that support HOTP protocol.
There are two ways to add your app for two step authorization:
* Enter generated code at your mobile Google Authenticator app,
* Scan generated QR code on your mobile Google Authenticator app,

For proper QR generation you need to get code first and only after that make request to generate QR.




## Generate code for enter by hand [/api/hotp/code]

This request will generate one time code that you need to enter while add new account to Google Authenticator app.

### Getting key code [GET]
Generate one time key code.

+ Attributes
    + Key (required,string) - One time generated key for app binding.

+ Response 200 (application/json)
        {
            "Key": "12368615794617"
        }

## Generate QR [/api/hotp/qr]

This request will generate one time code that you need to save in your Google Authenticator app.

### Getting QR image with code [GET]
Generate PNG image with QR code you can scan by Google Authenticator to add account.

+ Response 200 (image/jpeg)
          

## Check for correct app binding [/api/hotp/check]

Before two step authorization cat be enabled we need to check if everything is good. 
You need to enter first generated code from your app.

### HOTP app Code correct [POST]

+ Request (application/json)
        {
            "Confirm": "95726283"
        }

+ Response 204 (text/plain)

### HOTP app Wrong code [POST]
If app was not binded properly, first code was not accepted.

+ Request (application/json)
        {
            "Confirm": "7324545"
        }

+ Response 406 (text/plain)

## HOTP toggle [/api/hotp/toggle]

!TODO





# Group User privileges templates

Every user in the panel has it own priveleges. Priveleges prevent unrestricted access to modules.
Using privileges prevent dedublicating same restrictions to users.




## Add or edit template [/api/utemplates/set]

Add or edit privileges template if template with that name already exists.

+ Attributes
    + Name (required, string) - Template name.
    + Modules (required, array) - List of modules which user can access.
    + SSH (required, boolean) - Allow SSH access to the server.
    + Limits.Diskspace (required, number) - Disk space quota in Megabytes.
    + Limits.Traffic (required, number) -  User traffic limit.
    + Limits.DBs (required, number) - Databases (MySQL, PgSQL, etc.) limit.
    + Limits.DBUsers (required, number) - Databases users (MySQL, PgSQL, etc.) limit.
    + Limits.FTPs (required, number) - FTP accounts limit.
    + Limits.WebDomains (required, number) - Web domains limit.
    + Limits.DNSDomains (required, number) - Limit domains in DNS server.
    + Limits.Emails (required, number) - Maximum email boxes.

### Add or edit [POST]

+ Request (application/json)
        {  
            "Name":"TestingTemplate",
            "Modules":[  
                "iptables",
                "ftp",
                "filemanager",
                "uploads"
            ],
            "SSH":true,
            "Limits":{  
                "Diskspace":100,
                "Traffic":101,
                "DBs":102,
                "DBUsers":103,
                "FTPs":104,
                "WebDomains":105,
                "DNSDomains":106,
                "Emails":107
            }
        }

+ Response 204 (text/plain)

## List all privileges templates [/api/utemplates/list]

Lists all existing users privileges templates.

+ Attributes
    + Used (required, number) - How many users using this privileges template.

### List [GET]

+ Response 200 (application/json)

        [  
            {  
                "Name":"TestingTemplate",
                "Modules":[  
                    "iptables",
                    "ftp",
                    "filemanager",
                    "uploads"
                ],
                "SSH":true,
                "Limits":
                {  
                    "Diskspace":100,
                    "Traffic":101,
                    "DBs":102,
                    "DBUsers":103,
                    "FTPs":104,
                    "WebDomains":105,
                    "DNSDomains":106,
                    "Emails":107
                },
                "Used":24
            }
        ]

## Delete privileges template [/api/utemplates/del]

Remove privileges template from the system. In case of some user can use removing template you must provide existing template to replace those was removing.

+ Attributes
    + ReplaceBy (required, string) - Template name which replaces removing template in case of some users using it.

### Delete [POST]

+ Request (application/json)
        {  
            "Name":"TestingTemplate",
            "ReplaceBy":"SimpleUser"
        }

+ Response 204 (text/plain)




# Group Users

Users can login to panel, have their own domains, databases, limited disk space, and etc.
Users in panel are system users too. They can have or haven't SSH access. Each user has its own privileges. 
For managing users privileges in panel we have such thing as "User Limits Templates". There is a templates with list of limits which can apply to one or more users. More information are in "User Templates" section.

Only user with login `root` or user with privileges template named `SuperAdmin` can add, edit or remove users!




## Add or edit user [/api/users/set]

If user with `Username` already exist new request will change parameters for him, 
otherwise new user with given `Username` will be added to system.

+ Attributes
    + Username (required,string) - User new or existing login name.
    + Password (optional,string) - Password for user. Leave blank if username already exist and you don't want to change the password.
    + Info (required) - User's information schema.
    + Info.Active (required,boolean) - Activate or deactivate user. Users in disabled state cannot login to panel.
    + Info.Template (required,string) - Privileges template apply for user.
    + Info.Comment (optional,string) - Comment about user.
    + Info.Email (required,string) - Email for information messages.
    + Info.Theme (optional,string) - GUI theme for user. First in themes list is a default.
    + Info.Language (optional,string) - Language for GUI. Default is `EN`.
    + Info.HOTP.Active (optional,boolean) - Enable or disable two step authorization for user account.


### Success [POST]
If all parameters are correct new user will be created or existing user modified.

+ Request (application/json)
        {  
            "Username":"Tester",
            "Password":"verysecretTesterPassword",
            "Info":{  
                "Active":true,
                "Comment":"Just a testing user",
                "Template":"SimpleUser",
                "Email":"root@localhost",
                "Theme":"Simple",
                "Language":"EN",
                "HOTP":{  
                    "Active":false
                }
            }
        }

+ Response 204 (text/plain)

### #Error [POST]
If there is wrong parameter in request you will get error message with some information.

+ Request (application/json)
        {  
            "Username":"Tester",
            "Password":"verysecretTesterPassword",
            "Info":
                {  
                "Active":false,
                "Comment":"Some wrong user",
                "Template":"TemplateThatNotExists",
                "Email":"root@localhost"
                }
        }

+ Response




## Set user password [/api/users/password]

You can change users password for panel and ssh access. `root` can change password for all users, regular users can change only own password.

+ Attributes
    + Name (required,string) - User name.
    + Password (optional,string) - New password.

### Success [POST]

+ Request (application/json)
        {  
            "Name":"Tester",
            "Password":"NewVerySecretTesterPassword"
        }

+ Response 204 (text/plain)




## Disable, enable users [/api/users/toggleactive]

Inactive users can not login into panel, webdomains are disabled too.
This request toggle user status from active to disabled or vice versa.

### Success [POST]

+ Request (application/json)
        {  
            "Name":"Tester"
        }

+ Response 204 (text/plain)




## Get users list [/api/users/list]

Return all users exists in panel and information.

### Success [GET]

+ Response 200 (application/json)
    [
            {
            "Username":"Tester",
            "Info":
                {
                "Active":false,
                "Created":"Tue Nov 17 00:00:00 EET 2015",
                "Comment":"Just a testing user",
                "Template":"SuperAdmin",
                "Email":"root@localhost",
                "Theme":"Simple",
                "Language":"EN",
                "HOTP":
                    {
                    "Active":false
                    }
                },
            "Limits":{},
            "Stats":{}
            }
        ]




## Remove user [/api/users/del]

Removing user from panel and OS. Removing all user databases, domains, files and etc.

+ Attributes
    + Name (required,string) - Username to remove.

### Success [POST]
If user exists and no `root` it will be successful removed.

+ Request (application/json)
        {  
            "Name":"Tester"
        }

+ Response 204 (text/plain)

### #Error [POST]
If user is not exists or root it will fail with error.

+ Request (application/json)
        {  
            "Name":"NotExistingUser"
        }

+ Response




# Group User defined settings
Users can change they gui themes and GUI languages. Alse user can change his password.




## Change user password [/api/user/password]

User can change his password for accessing panel and SSH (if ssh is allowed for him).

### Password change [POST]

+ Request (application/json)
        {
            "Password": "$USER_PASSWORD"
        }

+ Response 204 (text/plain)

## User defined settings change [/api/user/set]

User can change his gui theme, language and email for notifications.

+ Attributes
    + Email (required,string) - User email for messages and notifications.
    + Theme (required,string) - GUI theme.
    + Language (required, string) - Theme GUI language.


### User settings change [POST]

+ Request (application/json)
        {
         "Email":"newUserEmail@localhost",
         "Theme":"Simple",
         "Language":"EN"
        }

+ Response 204 (text/plain)




# Group Filemanager
Filemanager allow manipulating file system as root or as regular user.
Users canot modify files outside they home directory.




## Create new directory [/api/filemanager/mkdir]

Create new directory.
Owner can be set only by root user.

### Make dir by Root [POST]

+ Request (application/json)

        {
            "Dir":   "/var/www",
            "Mkdir": "new_test_dir",
            "Owner": "nobody"
        }

+ Response 204 (text/plain)

### Make dir by #User [POST]

+ Request (application/json)

        {
            "Dir":   "/www",
            "Mkdir": "new_user_test_dir"
        }

+ Response 204 (text/plain)




## Change permissions [/api/filemanager/set]

Root can change any files.
User can change only files within his homedirectory. Owner for modified files will be a current user.

### Change permissions by Root [POST]

+ Request (application/json)
        {
            "Path":  "/var/www/test.html",
            "Mode":  777,
            "Owner": 99,
            "Group": 3,
            "Recursive":true
        }

+ Response 204 (text/plain)


### Change permissions by #User [POST]

User can't change owner of the files, only permissions.

+ Request (application/json)
        {
            "Path":  "/test.html",
            "Mode":  777,
            "Recursive":true
        }

+ Response 204 (text/plain)


### Change permissions #Error by #User [POST]
User can't change files which not owned.

+ Request (application/json)
         {
            "Path":  "/from_root.html",
            "Mode":  777
        }

+ Response


### Change permissions #Error while file Not Exist by #User [POST]
User can't change files which not owned.

+ Request (application/json)
         {
            "Path":  "/dir_which/not_exist.txt",
            "Mode":  777
        }

+ Response





## Move file or folder [/api/filemanager/move]

Root can move any files or directories.
User can move only files within his homedirectory.

### Move by Root [POST]

+ Request (application/json)
        {
            "From":  "/var/www/new_test_dir",
            "To":  "/var/www/new_test_dir_moved"
        }

+ Response 204 (text/plain)

### Move by #User [POST]

+ Request (application/json)
        {
            "From":  "/www/new_user_test_dir",
            "To":  "/www/new_user_test_dir_moved"
        }

+ Response 204 (text/plain)

### Move #Error Unexist by #User [POST]

+ Request (application/json)
        {
            "From":  "/www/unexist_user_test_dir",
            "To":  "/www/unexist_user_test_dir_moved"
        }
        
+ Response


### Move #Error No Privileges by #User [POST]

+ Request (application/json)
        {
            "From":  "/dir_from_root",
            "To":  "/www/new_dir_from_root"
        }
        
+ Response




## Find files [/api/filemanager/find]

Root can search all files or directories.
User can search within his homedirectory.

### Find by by Root [POST]

+ Request (application/json)
        {
            "Dir":"/",
            "Find":"sudo"
        }

+ Response 200 (application/json)
        [
            "/usr/bin/sudo"
        ]

### Find by #User [POST]

+ Request (application/json)
        {
            "Dir":"/",
            "Find":"sudo"
        }

+ Response 200 (application/json)
        []








## Download files [/api/filemanager/download]

Download file from filesystem. Users can download only files from they homedir.

### Download file [POST]

+ Request (application/json)
        {
            "Filename": "/etc/passwd"
        }

+ Response 200 (application/octet-stream)
    + Headers
        Content-Disposition: "attachment; filename=passwd"
    + Body
            
            

### Download file by #User [POST]

+ Request (application/json)
        {
            "Filename": "/test.jpg"
        }

+ Response 200 (application/octet-stream)
    + Headers
        Content-Disposition: "attachment; filename=test.jpg"
        content-length: 13263
    + Body
            
            
        
### Download file #Error by #User [POST]

+ Request (application/json)
        {
            "Filename": "/../../../../etc/passwd"
        }

+ Response




## Download file from remote URL [/api/filemanager/wget]

Download file to directory from remote URL.
Status of download send to /api/info/actualizer websocket as BackgroundTasks.

### Download file by #User [POST]

+ Request (application/json)
        {
            "Dir":"/",
            "Url": "http://vds64.com/bigfile.tar.gz"
        }

+ Response 204 (text/plain)

### Download file url #Error by #User [POST]

+ Request (application/json)
        {
            "Dir":"/",
            "Url": "http://vds64.com/no/such.file"
        }

+ Response

### Download file permission #Error by #User [POST]

+ Request (application/json)
        {
            "Dir":"../../../../../etc",
            "Url": "http://vds64.com/bigfile.tar.gz"
        }

+ Response

### Download MySQL dump file by #User [POST]

+ Request (application/json)
        {
            "Dir":"/www/",
            "Url": "http://jenkins.geeks.team/mysql.sql"
        }

+ Response 204 (text/plain)

### Download PgSQL dump file by #User [POST]

+ Request (application/json)
        {
            "Dir":"/www/",
            "Url": "http://jenkins.geeks.team/pgsql.sql"
        }

+ Response 204 (text/plain)




## Create archive [/api/filemanager/pack]

Create new archive from directory. Supported types are `tar.gz`, `zip`.

### Create tar.gz archive [POST]

+ Request (application/json)
        {
            "Directory": "/var/www/html",
            "Type":      "tar.gz",
            "OutputDir": "/var/www/test_archives",
            "Archname":  "testTar"
        }

+ Response 204 (text/plain)

### Create zip archive [POST]

+ Request (application/json)
        {
            "Directory": "/var/www/html",
            "Type":      "zip",
            "OutputDir": "/var/www/test_archives",
            "Archname":  "testZip"
        }

+ Response 204 (text/plain)

### Create tar.gz archive by #User [POST]

+ Request (application/json)
        {
            "Directory": "/www",
            "Type":      "tar.gz",
            "OutputDir": "/www/test_archives",
            "Archname":  "testTar"
        }

+ Response 204 (text/plain)

### Create tar.gz archive #Error by #User [POST]

+ Request (application/json)
        {
            "Directory": "/www/dir_no_exist",
            "Type":      "tar.gz",
            "OutputDir": "/www/test_archives",
            "Archname":  "testTar"
        }

+ Response




## Extract archive [/api/filemanager/unpack]

Extract archive. Supported types are `tar.gz`, `zip`.

### Extract tar.gz archive [POST]

+ Request (application/json)
        {
            "Directory": "/var/www/test_archives",
            "Filename":  "testTar.tar.gz",
            "OutputDir": "/var/www/test_archives/tar"
        }

+ Response 204 (text/plain)

### Extract zip archive [POST]

+ Request (application/json)
        {
            "Directory": "/var/www/test_archives",
            "Filename":  "testZip.zip",
            "OutputDir": "/var/www/test_archives/zip"
        }

+ Response 204 (text/plain)

### Extract tar.gz archive by #User [POST]

+ Request (application/json)
        {
            "Directory": "/www/test_archives",
            "Filename":  "testTar.tar.gz",
            "OutputDir": "/www/test_archives/tar"
        }

+ Response 204 (text/plain)

### Extract tar.gz archive #Error by #User no such file [POST]

+ Request (application/json)
        {
            "Directory": "/www/test_archives",
            "Filename":  "no_such_archive.tar.gz",
            "OutputDir": "/www/test_archives/tar"
        }

+ Response

### Extract tar.gz archive #Error by #User output dir not exist [POST]

+ Request (application/json)
        {
            "Directory": "/www/test_archives",
            "Filename":  "testTar.tar.gz",
            "OutputDir": "/www/dir_not_exist/tar"
        }

+ Response




## Download directory as archive [/api/filemanager/getarchive]

Packs directory to tar.gz archive on the fly.

### Pack directory by Root [POST]

+ Request (application/json)
        {
            "Directory": "/etc/selinux"
        }
        
+ Response 200 (application/zip)
    + Headers
        Content-Disposition: "attachment; filename=selinux.zip"
    + Body

### Pack directory by #User [POST]

+ Request (application/json)
        {
            "Directory": "/ftpdir"
        }
        
+ Response 200 (application/zip)
    + Headers
        Content-Disposition: "attachment; filename=ftpdir.zip"
    + Body

### Pack directory #Error by #User [POST]
Permission denied error.

+ Request (application/json)
        {
            "Directory": "../../../../etc/selinux"
        }
        
+ Response 




## Show text file [/api/filemanager/showfile]

User can view text files.

### Show file by Root [POST]

+ Request (application/json)
        {
            "Filename": "/etc/passwd",
            "Encoding": "ISO 8859-2"
        }
        
+ Response 200 (application/json)
        {
            "Text":"text of the file"
        }

### Show file #Error not exist [POST]

+ Request (application/json)
        {
            "Filename": "/etc/no_such_file",
            "Encoding": "ISO 8859-2"
        }
        
+ Response

### Show file by #User [POST]

+ Request (application/json)
        {
            "Filename": "/test.html",
            "Encoding": "ISO 8859-2"
        }
        
+ Response 200 (application/json)
        {
            "Text":"text of the file"
        }

### Show file #Error by #User permission denied [POST]
User can view only user owned files.

+ Request (application/json)
        {
            "Filename": "../../../etc/passwd",
            "Encoding": "ISO 8859-2"
        }
        
+ Response

### Show file #Error not text file format [POST]
Show file work only with text files 1Mb size maximum.

+ Request (application/json)
        {
            "Filename": "/usr/bin/vim",
            "Encoding": "ISO 8859-2"
        }
        
+ Response




## Edit text file [/api/filemanager/editfile]
Users can edit text file content.

### Edit text file by Root [POST]

+ Request (application/json)
        {
            "Filename": "/var/www/test.html",
            "Encoding": "ISO 8859-2",
            "Text":"<h2>Root was here!</h2>"
        }
        
+ Response 204 (text/plain)

### Edit text file by #User [POST]
User can edit only owned files in his homedir.

+ Request (application/json)
        {
            "Filename": "/test.html",
            "Encoding": "ISO 8859-2",
            "Text":"<h2>$USER_NAME was here!</h2>"
        }
        
+ Response 204 (text/plain)

### Edit text file #Error by #User [POST]

+ Request (application/json)
        {
            "Filename": "/from_root.html",
            "Encoding": "ISO 8859-2",
            "Text":"Edit by regular User"
        }
        
+ Response 




## Delete file or folder [/api/filemanager/del]

Root can delete all files or directories.
User can delete only files within his homedirectory and owned by him.

### Delete Dir by Root [POST]

+ Request (application/json)
        [
            "/var/www/new_test_dir_moved"
        ]

+ Response 204 (text/plain)

### Delete Dir by #User [POST]

+ Request (application/json)
        [
            "/www/new_user_test_dir_moved"
        ]

+ Response 204 (text/plain)

### Delete file by Root [POST]

+ Request (application/json)
        [
            "/var/www/test_archives/testTar.tar.gz"
        ]

+ Response 204 (text/plain)

### Delete file by #User [POST]

+ Request (application/json)
        [
            "/www/test_archives/testTar.tar.gz"
        ]

+ Response 204 (text/plain)

### Delete #Error Unexist by #User [POST]

+ Request (application/json)
        [
            "/www/unexist_user_test_dir"
        ]
        
+ Response

### Delete #Error No Privileges by #User [POST]

+ Request (application/json)
        [
            "/dir_from_root"
        ]
        
+ Response

### Delete #Error Outside homedir #User [POST]

+ Request (application/json)
        [
            "/../../../etc/issue"
        ]
        
+ Response




## List directory [/api/filemanager/list]

Root can list all directories on server.
User can list only directories under his homedir.

### List dir by Root [POST]

+ Request (application/json)
        {
            "Dir": "/var/www"
        }

+ Response 200 (application/json)
    + Attributes (array[Files])

### List dir by #User [POST]

+ Request (application/json)
        {
            "Dir": "/www"
        }

+ Response 200 (application/json)
    + Attributes (array[Files])

### List dir #Error by #User [POST]

+ Request (application/json)
        {
            "Dir": "/../../../usr/bin"
        }

+ Response




# Group FTP accounts
PFTPD server accounts.




## Add or Edit FTP account [POST /api/pftpd/set]

Add or edit FTP accounts.

+ Attributes
  + UserID (required, string) - FTP account login name.
  + Password (required, string) - FTP account password.
  + User (optional, string) - Panel user which owns FTP account. Only `root` can set User.
  + Homedir (required, string) - FTP directory path related to current user's homedir.

+ Request (application/json)
    {
        "UserID":     "FTP1",
        "Password" : "FTPPassword",
        "Homedir":       "/www/$TESTING_DOMAIN/"
        }

+ Response 204 (text/plain)

## List FTP accounts [GET /api/pftpd/list]

List all user's FTP account.

+ Response 200 (application/json)
    [
        {  
       "UserID":"$USER_NAME_FTP1",
           "Homedir":  "/www/$TESTING_DOMAIN/"
        }
    ]

## Remove FTP accounts [POST /api/pftpd/del]

Remove FTP accounts.

+ Request (application/json)
    ["FTP1"]

+ Response 204 (text/plain)

## Remove non existent ftp account #Error [POST /api/pftpd/del]

+ Request (application/json)
    ["FTPNotExist"]

+ Response




# Group Web Domains
Nginx and apache domains.




## Add or Edit Web domain [/api/webdomains/set]

Add new or edit web domain.

+ Attributes
  + Domain (required, string) - Web domain name.
  + Alias (required, string) - Domain aliases.
  + IP (required, string) - IP address to bind web domain.
  + IndexFile (required, string) - Index file.
  + Encoding (required, string) - Encoding for the files.
  + Subdomains (required, boolean) - Auto subdomains.
  + PHP (required, string) - PHP interpreter.
  + DNS (required, boolean) - Add domain to DNS server too.
  + SSL (required, boolean) - HTTPS support.
  + Analytics (required, boolean) - Domain analytics.

### Add new or edit web domain [POST]

+ Request (application/json)
    {  
       "Name":"testDomain.com",
       "Alias":"www.testDomain.com site.testDomain.com",
       "IP":"$SERVER_IP",
       "IndexFile":"index.html",
       "Encoding":"utf8",
       "Subdomains":true,
       "PHP":"fpm_nginx",
       "DNS":true,
       "SSL":false,
       "Analytics":true,
       "Active":true
    }

+ Response 204 (text/plain)

## Toggle active web domains [/api/webdomains/toggle]

Activate or deactivate (if domain active) web domains in request.
Disabled domains will not be served from webserver.

### Toggle active web domains [POST]

+ Request (application/json)
    [  
       "testDomain.com"
    ]

+ Response 204 (text/plain)

### Toggle non existent web domain #Error [POST]

+ Request (application/json)
    [  
       "notExistingDomain.com"
    ]

+ Response

## List all web domains [/api/webdomains/list]

List all web domains of current user.

+ Attributes
  + Active (required, boolean) - Is domain active.
  + Apache (required, array) - Apache config parameters.
  + Nginx (required, array) - Nginx config parameters.

### List web domains [GET]

+ Response 200 (application/json)
        [
            {  
                "Name":"testDomain.com",
                "Active":true,
                "Owner":"regular_User",
                "Alias":"www.testDomain.com site.testDomain.com",
                "IP":"$SERVER_IP",
                "IndexFile":"index.html",
                "Encoding":"utf8",
                "Subdomains":true,
                "PHP":"fpm_nginx",
                "SSL":false,
                "Analytics":true
            }
        ]

## Remove web domains [/api/webdomains/del]

Remove web domains.

### Remove web domains [POST]

+ Request (application/json)
    [  
       "testDomain.com"
    ]

+ Response 204 (text/plain)

### Remove non existent web domain #Error [POST]

+ Request (application/json)
    [  
       "notExistingDomain.com"
    ]

+ Response





## PHP modes [/api/webdomains/set]

Domain has a four different modes: fpm_nginx, fpm_apache, mod_php, off

+ Attributes
  + PHP (required, string) - PHP interpreter mode.

### PHP-FPM on Nginx [POST]

+ Request (application/json)
    {  
       "Name":"$TESTING_DOMAIN",
       "Alias":"www.$TESTING_DOMAIN site.$TESTING_DOMAIN",
       "IP":"$SERVER_IP",
       "IndexFile":"index.html",
       "Encoding":"utf8",
       "Subdomains":true,
       "PHP":"fpm_nginx",
       "DNS":true,
       "SSL":false,
       "Analytics":true,
       "Active":true
    }

+ Response 204 (text/plain)

### PHP-FPM on Apache [POST]

If .htaccess needed.

+ Request (application/json)
    {  
       "Name":"$TESTING_DOMAIN",
       "Alias":"www.$TESTING_DOMAIN site.$TESTING_DOMAIN",
       "IP":"$SERVER_IP",
       "IndexFile":"index.html",
       "Encoding":"utf8",
       "Subdomains":true,
       "PHP":"fpm_apache",
       "DNS":true,
       "SSL":false,
       "Analytics":true,
       "Active":true
    }

+ Response 204 (text/plain)

### Apache mod_php [POST]

+ Request (application/json)
    {  
       "Name":"$TESTING_DOMAIN",
       "Alias":"www.$TESTING_DOMAIN site.$TESTING_DOMAIN",
       "IP":"$SERVER_IP",
       "IndexFile":"index.html",
       "Encoding":"utf8",
       "Subdomains":true,
       "PHP":"mod_php",
       "DNS":true,
       "SSL":false,
       "Analytics":true,
       "Active":true
    }

+ Response 204 (text/plain)

### PHP off [POST]

Disable php on domain

+ Request (application/json)
    {  
       "Name":"$TESTING_DOMAIN",
       "Alias":"www.$TESTING_DOMAIN site.$TESTING_DOMAIN",
       "IP":"$SERVER_IP",
       "IndexFile":"index.html",
       "Encoding":"utf8",
       "Subdomains":true,
       "PHP":"off",
       "DNS":true,
       "SSL":false,
       "Analytics":true,
       "Active":true
    }

+ Response 204 (text/plain)





# Group SSL Certificates
SSL certificates for domains




## Create CSR [POST /api/ssl/createcsr]

Creating SSL CSR and Key file.
Regular user must add domain to WebDomains to own this domain name.

+ Attributes
    + Domains (required,string) - Domains name for certificate.
    + City (required,string) - City name for CSR.
    + State (required,string) - State of the city.
    + Country (required,string) - Two symbols country code.
    + Company (required,string) - Company full name.
    + Division (required,string) - Division of the company.
    + Email (required,string) - Contact email.
    + Passphrase (required,string) - Password for private key. Leave empty for correct apache using.


+ Request (application/json)
        {  
           "Domains":"$TESTING_DOMAIN",
           "City":"NewYork",
           "State":"NY",
           "Country":"UA",
           "Company":"Geeks inc.",
           "Division":"IT",
           "Email":"test@domain.com",
           "Passphrase":"qwerty"
        }

+ Response 200 (application/json)
        {
        "Key":"Private key",
        "CSR":"Certificate request"
        }

## Generate self sighned certificate [POST /api/ssl/generate]

Generating self-signed certificate on CSR and KEY which already ben generated or imported.

+ Request (application/json)
        {  
           "Domain":"$TESTING_DOMAIN"
        }

+ Response 200 (application/json)
        {
        "Crt":"certificate"
        }

## Generation certificate #Error [POST /api/ssl/generate]

If no KEY or (and) CSR are exists for domain, there will be an error.

+ Request (application/json)
        {  
           "Domain":"testNotExistent.com"
        }


+ Response

## List all certificates [GET /api/ssl/list]

List SSL information for user's domains.

+ Response 200 (application/json)
        [  
           {  
              "Name":"$TESTING_DOMAIN",
              "Key":true,
              "CSR":true,
              "CRT":false
           }
        ]

## Getting all certificate info [POST /api/ssl/getcert]

Getting all information about certificate, keys and etc.

+ Request (application/json)
        {  
           "Domain":"$TESTING_DOMAIN"
        }

+ Response 200 (application/json)
        {  
           "PrivateKey":"...",
           "CSRKey":"...",
           "CRTKey":"...",
           "IssueDate":"2009-09-01 13:32:12",
           "ExpireDate":"2009-09-01 13:32:12",
           "CRTInfo":{  
              "Domains":"domain.com",
              "City":"Kiev",
              "State":"Kiev"
           }
        }

## Removing certificate [POST /api/ssl/del]

While removing certificate from domain, `Webdomain` SSL will set to `FALSE`

+ Request (application/json)
        [
           "$TESTING_DOMAIN"
        ]

+ Response 204 (text/plain)

## Import certificate [POST /api/ssl/import]

Import CSR, Key, CRT for domain.

+ Request (application/json)
        {  
           "Domain":"$TESTING_DOMAIN",
           "Key":"-----BEGIN PRIVATE KEY-----MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDo+UyURQKUPMYvGf+ISHDR8QNwOwdoB0NMOhXbXFyK29XAFzoiAqNCXtwQLP+kxXeTKslGhJ9L25xPNT9bQOQCPYp2Bd7TOqGa5AUQS+/PyP57i7p9Q8HV75ruEk693j4DWnq4dZtnYP4M6RgcPtbLM09awvR0hoe3a+lzEgpJr++puCpEf7sZZQq2QHhoKY4bsvh2jvvQVSQEIxOLoIYENrKvCHznGixGpwULchdmKytn5pwFAa0YjzDSWczzqwRcGQTIiKEjtQwcQ8jLnuUGEZNzhtfVVUd7rHB8Seh4wlgi1m4X2DEpwbFXQREbJ9yonqKTJAVtGULhg753m2j9AgMBAAECggEBAI5uk832HuyH91Ymm94zA56mrcZ4oD+OaSt6O5Cf+AgA/L5ytNzEJhHWss3E5QpUm5VCzEkrncQf4IFgeXqNwphIDZW4YxFawCBVFW9wLY4oQMVBmOMqgKAN2/d/A9r6u4kLUQnjBP6AAvHbtBzYojMbDIHdvNxcvy55cAEk31tKZNvN8SBPOniHvcitU8LVMeZSC+9fq+5jNALed6G8P60CR85ixnvDfCRoR1CeY1IwKjty978a08jm41c2tolo4qY3eM63WBnZsX8Ip8t6DGnjucggNYToaDiOKq/McAIiOLFxbNF+j7GZQTniWVr76KM6smOn2pQfDxE+RojHHkECgYEA/562mfS+AZUQONFoA/tFvkwltp2OTCIT36/Sj01ruSHr/0U7K/Ms2QlRvaUWdliZZ3n/XZOEmQR4SkZ5pr7s8iSJg8KJHbGumwTe5RYbuiwe8Rz1Winuvb9n7neEaPSbRMofENJFUURCJekrcqyxQP2q5vtoan/3tUAx7e/UF5ECgYEA6VH3iHA2TH90ds4wOMYam6u4j+9a3obRwH+ePTslg7ZJ+uLX8ufDFGhtHoCqIN+leuOqlszqcDhjnyh6GDZyGh60llso+y36/w6TbiOC82sPhbIlbLFCjx8wzT8XmhEFvMEpTzWeAotsFyGRpXoNQ4UoQVgRfRajZTWjeKHpvK0CgYA+3NRBNlwH3ZW4s17mI8Q6EVXw+/xDotnKV93rWfnU9I+qHmd33ny3/z+36MKGZjGLrgfsBlxEmUHP2lcOd8OjpPKgkZXQ1KKBAwihw/cbqMAPQbTg8JEC3vB7R68rdIQ+vYo4Q83CN4wg8J+7utZ4iimeVlOOZVwQmfHtdt5s0QKBgQCvlBU4wWi7LHbSKNu0/a9sUk9zUWYKa15RBDhqT6YtdfI6MJbdnnb5VpQ3Dg/46RQ4ZDctgEsz49tkHCu1KNO4wD6Zn0Q5sSJe6fMcQPD8iSaHL8ZmAwbZeVlaOw5hzEmK/7k8eFbOB2lyBrr50d1FYGEou0N95JlVQoYf84hXiQKBgHgGogCVQl7iSAX1VoSOTl/rzAg+wi4gW7Eb1oHjpj/OR9uWfET3JRCmNLfDruV9Nc3iu5/2F0L63yTrBT+XYKvLPi33pE9juPBw6mWVFe0fv4HgEtrCW7ZJV+bWwEWZand8xrqxYiagQFjvSuSXBoncfkSs/YJS65Jc10N9f32O-----END PRIVATE KEY-----",
           "Crt":"-----BEGIN CERTIFICATE-----MIID0zCCArugAwIBAgIBADANBgkqhkiG9w0BAQsFADCBgzELMAkGA1UEBhMCVUExEDAOBgNVBAgMB0toYXJrb3YxEDAOBgNVBAcMB0toYXJrb3YxEjAQBgNVBAoMCUdlZWtzdGVhbTELMAkGA1UECwwCSVQxETAPBgNVBAMMCHRlc3QuY29tMRwwGgYJKoZIhvcNAQkBFg10ZXN0QHRlc3QuY29tMB4XDTE2MDMyNDA5MDczM1oXDTE3MDMyNDA5MDczM1owgYMxCzAJBgNVBAYTAlVBMRAwDgYDVQQIDAdLaGFya292MRAwDgYDVQQHDAdLaGFya292MRIwEAYDVQQKDAlHZWVrc3RlYW0xCzAJBgNVBAsMAklUMREwDwYDVQQDDAh0ZXN0LmNvbTEcMBoGCSqGSIb3DQEJARYNdGVzdEB0ZXN0LmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOj5TJRFApQ8xi8Z/4hIcNHxA3A7B2gHQ0w6FdtcXIrb1cAXOiICo0Je3BAs/6TFd5MqyUaEn0vbnE81P1tA5AI9inYF3tM6oZrkBRBL78/I/nuLun1DwdXvmu4STr3ePgNaerh1m2dg/gzpGBw+1sszT1rC9HSGh7dr6XMSCkmv76m4KkR/uxllCrZAeGgpjhuy+HaO+9BVJAQjE4ughgQ2sq8IfOcaLEanBQtyF2YrK2fmnAUBrRiPMNJZzPOrBFwZBMiIoSO1DBxDyMue5QYRk3OG19VVR3uscHxJ6HjCWCLWbhfYMSnBsVdBERsn3KieopMkBW0ZQuGDvnebaP0CAwEAAaNQME4wHQYDVR0OBBYEFEkE8dr8y/aDEEjNJkwtalK1DkNRMB8GA1UdIwQYMBaAFEkE8dr8y/aDEEjNJkwtalK1DkNRMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQELBQADggEBAK3aFK/jdULddAbFb79/BnrKwBO+DmJljOGMUZZWGer/r5IX91MLk8yprvQva0ebafh7DzNDlQWCHps2sfsJ83Su7gywrFL8tmTmShcEQpX9xJToHsYasw0to8Gh2hN2HBL6588iyYt0bJW9PMDEvu6P/MJs77zWuh50z9xO+7mXuc4bk3F2A5UisAxt+zvbZCEWCjoDhHTlUYFv0OLJ5/6HNhk7s5ZjKp43NXRtsntyoLJeCUzb3qxmKNIVw9a7ineMIN3Qykm2AUjzZL/tdccZ0YeqsbSdHOV03XodM9VIsSqj0AZQ3cxLvgv0s9xcniRqEhVs1qHYKjfrVhpjyBI=-----END CERTIFICATE-----",
           "Csr":"-----BEGIN CERTIFICATE REQUEST-----MIICqjCCAZICADBmMQswCQYDVQQGEwJVQTERMA8GA1UEAxMIdGVzdC5jb20xEDAOBgNVBAcTB0thaHJrb3YxEzARBgNVBAoTCkdlZWtzLlRlYW0xEDAOBgNVBAgTB0toYXJrb3YxCzAJBgNVBAsTAklUMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAox7xBJVm0k59RuLlRs+c7VSHsD4GH8xU8Dk+0HxhQ7CZsz2W8i1TM/T/4AfrWztDlOGBro3ey9JmtDANMfoGjHF82MqZwHKCJePPWEUDhH6jPKurtRlRaPKymxoKl4xB1mWeIJXu5VaAklfi4BqeavDnARWA03/wUE3/H9fUpK7k98LXEDJ/AgKALICG7++5llEXrnDkbW3ofNRpp/r1Z/ZxtNaxGn0Toplt/tLBZWSbkMYmqF6HQm6hND88xN+Ufex+kStWiOglytmYz2c2XhnsUx+xV8+1MUjkMc+Itg+6ncLg60qgXCOKyHleQ1lAKZaHkUhX/Q9mz+Q+PW7lkQIDAQABoAAwDQYJKoZIhvcNAQELBQADggEBAE56UIb2alhJghxPUKuI6/B7QCE6W01zx2MJSbCk3+9eWUwFQFoFy3NQJWKn0wE0788PAKiQ1dZ0joIsTaWlX5xW79aDK/Od8McpCqNNDmuCJKHtd8SWnp3WnXjD9KPPM+CEYpFOgo8CYxRjMqckOGXbW/z9gs2Zuehwb2YK3horyf0MoaxtppYjDOo0G7yF79aTgaqKromKrOv1+Pr4/f86/QJCx+6T9Eht6sdONH2PQVH58V0a10Di2GtpRDys7oQFP4lBnTUBkRnnTnhJ7o7fEbNmFJnKutpe7XcfTmN40+4ybqCGfHiqBo4/GCLXGVpJitYV2ISjahY2u7us0+g=-----END CERTIFICATE REQUEST-----"
        }

+ Response 204 (text/plain)




# Group PHP
PHP settings and information.




## PHPinfo [GET /api/php/info]

Output phpinfo().

+ Attributes
  + Version (required, string) - Current PHP version.
  + Modules (required, array) - Loaded PHP modules.
  + Ini (optional, array) - Loaded ini files.
  + FullInfo (required, array) - Other information.

+ Response 200 (application/json)
        {
            "Version":"5.3.1",
            "Modules":
            [
                "mysql",
                "sqlite3"
            ],
            "FullInfo":
            [    
                "Phar: PHP Archive support => enabled",
                "Phar EXT version => 2.0.1"
            ],
            "Ini":
            [
                "/etc/php.d/bcmath.ini",
                "/etc/php.d/opcache.ini"
            ]
        }

## Set INI parameter [POST /api/php/iniset]

Sets ini parameters.

+ Request (application/json)
        {
            "allow_url_fopen":"Off"
        }

+ Response 204 (text/plain)

## List INI settings [GET /api/php/inilist]

Lists all active ini settings.

+ Response 200 (application/json)
        {
            "allow_url_fopen": "Off"
        }




## Search PECL packages [POST /api/php/peclsearch]

Searches for the mentioned pecl packages and output information about them.

+ Request (application/json)

        ["opcache","sqlite"]

+ Response 200 (application/json)
        [
            {
                "Name":        "opcache",
                "Version":     "0.9.1",
                "Description": "Zend OpCache cache"
            }
        ]

## Install PECL packages [POST /api/php/peclinstall]

Installing pecl packages.

+ Request (application/json)

        ["SQLite"]

+ Response 200 (application/json)
        {
            "Output":"text from console"
        }
        
## Remove PECL packages [POST /api/php/peclremove]

Removing pecl packages.

+ Request (application/json)

        ["ZendOpcache","SQLite"]

+ Response 200 (application/json)
        {
            "Output":"text from console"
        }




# Group MySQL Users
Panel users can have their own database users and databases.
Database can be on local host and remote. Database connection can be configured by `Mysql.Host`, `Mysql.Port`, `Mysql.User` (Root or admin database user), `Mysql.Password` (Password for root or database admin) section at main config file.




## Modifying users [POST /api/mysql/users/set]

Add or edit database user if username already exist.

+ Attributes
  + Username (required, string) - Database username. Prefix must be panel user name, and append in GUI before request.
  + Password (required, string) - Database user password.
  + Host:localhost (optional, string) - Hostname  from which user can login to database.

+ Request (application/json)

        {  
           "Username":"DBU",
           "Password":"NewMyDBPassword",
           "Host":"localhost"
        }

+ Response 204 (text/plain)

## Get all users  [GET /api/mysql/users/list]

List all database users owned by the current session panel user.

+ Attributes
  + DBs (required, number) - Number of user's databases. 

+ Response 200 (application/json)

        [  
           {  
              "Username":"Testuser_DBU",
              "Host":"localhost",
              "DBs":0
           }
        ]

## Removing users [POST /api/mysql/users/del]

Removing MySQL user and all him databases. If `ReplaceBy` parameter, databases not be deleted, they transfered to DB username in request instead.

+ Attributes
  + ReplaceBy (required, string) - Database username to transfer all databases from removing database user.

+ Request (application/json)

        {  
        "Username":"DBU"
        }

+ Response 204 (text/plain)

## Removing non existent user #Error [POST /api/mysql/users/del]

+ Request (application/json)

        {  
        "Username":"DBuser2"
        }

+ Response




# Group PgSQL Users
Panel users can have their own database users and databases.
Database can be on local host and remote. Database connection can be configured by `Pgsql.Host`, `Pgsql.Port`, `Pgsql.User` (Root or admin database user), `Pgsql.Password` (Password for root or database admin) section at main config file.




## Modifying users [POST /api/pgsql/users/set]

Add or edit database user if username already exist.

+ Attributes
  + Username (required, string) - Database username. Prefix must be panel user name, and append in GUI before request.
  + Password (required, string) - Database user password.

+ Request (application/json)
        {  
       "Username":"DBuser1",
       "Password":"NewMyDBPassword"
    }

+ Response 204 (text/plain)

## Get all users  [GET /api/pgsql/users/list]

List all database users of current session panel user.

+ Attributes
  + DBs (required, number) - Number of user's databases. 

+ Response 200 (application/json)
    [  
       {  
          "Username":"Testuser_DBuser1",
          "DBs":99
       }
    ]

## Removing users [POST /api/pgsql/users/del]

Removing PgSQL user and all him databases. If `ReplaceBy` parameter, databases not be deleted, they transfered to DB username in request instead.

+ Attributes
  + ReplaceBy (required, string) - Database username to transfer all databases from removing database user.

+ Request (application/json)
        {  
       "Username":"DBuser1"
    }

+ Response 204 (text/plain)




# Group DNS Domains
DNS Domains




## Add or Edit DNS domain records [POST /api/pdns/set]

Add or edit DNS domain records

+ Attributes
  + Id (required, number) - ID of domain in pdns database.
  + Name (required, string) - Domain name.
  + Records (required, object) - DNS records for domain.

+ Request (application/json)
        {  
           "Name":"testpdns.com",
           "Type":"NATIVE",
           "Records":[
              {  
                 "Name":"testpdns.com",
                 "Type":"SOA",
                 "Content":"ns1.dnsimple.com admin.testpdns.com 2016022001 86400 7200 604800 300",
                 "TTL":86400
              },
              {  
                 "Name":"www.testpdns.com",
                 "Type":"A",
                 "Content":"77.222.142.3",
                 "TTL":86400
              },
              {  
                 "Name":"testpdns.com",
                 "Type":"A",
                 "Content":"77.222.142.3",
                 "TTL":86400
              },
              {  
                 "Name":"testpdns.com",
                 "Type":"MX",
                 "Content":"aspx.gmail.com",
                 "TTL":86400,
                 "Prio":10
              }
           ]
        }

+ Response 204 (text/plain)

## Edit DNS domain #Error [POST /api/pdns/set]

Error while edit not existent domain or domain not owned by the user.

+ Request (application/json)
        {  
          "ID":999,
          "Name":"notExistentDomain.com",
          "Type":"NATIVE",
          "Records":[  
            {  
               "Name":"www.testpdns.com",
               "Type":"A",
               "Content":"77.222.142.3",
               "TTL":86400
            }
          ]
        }

+ Response

## List Domains records [GET /api/pdns/list]

List all domains and they records.

+ Response 200 (application/json)
    [
       {
          "ID":124,
          "Name":"testpdns.com",
          "Type":"NATIVE",
          "Account":502,
          "Records":[
             {
                "Name":"www.domain.com",
                "Type":"A",
                "Content":"77.222.142.3",
                "TTL":"86400",
                "Prio":"10"
             }
          ]
       }
    ]

## Delete domain [POST /api/pdns/del]

Remove domain and it records form PDNS database.

+ Request (application/json)
        [  
          "testpdns.com"
        ]

+ Response 204 (text/plain)

## Delete domain #Error [POST /api/pdns/del]

Error while removing non existent or not user owned domain.

+ Request (application/json)
        [  
          "notExistentDomain.com"
        ]

+ Response




# Group User Session

After successful authorization users have their session stored in panel's memory. 
SessionID is a unique key that stores in browser cookie. 
By default clients IP addresses also check with SessionID but you can disable it by turning `false` config file parameter `Core.StrictSessionIP`. 
In this case only SessionID will be checked for session identification without IP address verification. 
Its safe because panel have its own bruteforce protection but we are not suggest to disable this check unless your users behind NAT with frequently IP changes have often `401 Unauthorized` errors.

## Session information [/api/info/session]




### Root user [GET]

Root user as administrator have different session information.
Administrator will get information about server status and resources usage to show those information at admin's gui dashboard.

+ Attributes
    + Build (required,string) - API server build datetime.
    + Users (required, array) - All Usernames existing in a panel.
    + Templates (required, array) - All User privileges templates.
    + ActiveSessions (required, number) - Total active users sessions for now.
    + Stats.Diskspace (required, number) - Disk space usage in percents.
    + Stats.DBs (required, number) - Total Databases (MySQL, PgSQL and etc.) owned by users.
    + Stats.DBUsers (required, number) - Total Databases Users (MySQL, PgSQL and etc.) owned by users.
    + Stats.FTPs (required, number) - Total FTP accounts owned by users.
    + Stats.WebDomains (required, number) - Total webdomains owned by users.
    + Stats.DNSDomains (required, number) - Total domains in DNS server owned by users.
    + Stats.Emails (required, number) - Total email accounts owned by users.

+ Response 200 (application/json)
        {
        "Build":"01.12.2016 Date",
        "Users": ["UserOne","UserTwo"],
        "Templates": ["SimpleUser","BigBoss"],
        "ActiveSessions":10,
        "Stats":
            {
            "Diskspace": 50,
            "Traffic": 0,
            "DBs":12,
            "DBUsers":24,
            "FTPs":5,
            "WebDomains":4,
            "DNSDomains":4,
            "Emails":54
            }
        }




### Regular #User [GET]

User information have his info and usage statistics to show in GUI dashboard.

+ Attributes
    + Active (required, boolean) - Is current user is Enabled or disabled.
    + Created (required, string) - When user was created.
    + Modules (required, array) - Which panel modules user can access.
    + Homedir (required, string) - User's homedir.
    + UID (required, number) - User system UID.
    + SSH (required, boolean) - Does user can access to server by SSH.
    + Template (required, string) - Privileges template name.
    + NS (required, array) - Default Name servers for new domains.
    + Limits (required, object) - Resources limits apply to user.
    + Stats (required, object) - Resources usage stats by user.

+ Response 200 (application/json)
    { 
    "Username":"Mark", 
    "Active":true, 
    "Created":"2015-08-09 13:45:24", 
    "Modules":
      [ "module", "module" ], 
    "Homedir":"/home/Mark", 
    "UID":564, 
    "SSH":true, 
    "Template":"SimpleUser",
    "NS":["ns1.ns.com","ns1.ns.com"],
    "Limits":
      { 
      "Diskspace":0, 
      "Traffic":0, 
      "DBs":0, 
      "DBUsers":0, 
      "FTPs":0, 
      "WebDomains":0, 
      "DNSDomains":0, 
      "Emails":0 
      }, 
    "Stats":
      { 
        "Diskspace":0, 
        "Traffic":0, 
        "DBs":0, 
        "DBUsers":0, 
        "FTPs":0, 
        "WebDomains":0, 
        "DNSDomains":0, 
        "Emails":0 
      } 
    }





## Domains list [/api/info/domains]

In many cases GUI need to get list of user's domains. For example for email box add or so on. 
Root user and regular user have different reply, because root will get all domains for all users and user will get only its own.

### Root domains list [GET]
Root get all domains and they ownerd

+ Response 200 (application/json)
        [
                {
                        "Name":"$TESTING_DOMAIN", 
                        "Owner":"$USER_NAME",
                        "Active":true
                }
        ]

### Domains list for #User [GET]

+ Response 200 (application/json)
        [
        "$TESTING_DOMAIN"
        ]




# Group Email boxes
Email boxes.




## Add or Edit Email box [/api/email/set]

Add new or edit existent email box.

+ Attributes
  + Email (required, string) - Email box name.
  + Alias (required, string) - Box aliases.
  + Size (required, number) - Box size limit in megabytes. Zero is unlimited.
  + Password (required, string) - Password of the box.
  + Username (optional, string) - Owner of the box. Only `root` can set this parameter.

### Add or edit Email box [POST]

+ Request (application/json)
    {  
       "Email":"test@$TESTING_DOMAIN",
       "Alias":"kmsddf@mail.ru",
       "Size":123,
       "Password":"bc861g23d"
    }

+ Response 204 (text/plain)

## List Email boxes [/api/email/list]

List all email boxes.

### List email boxes[GET]

+ Response 200 (application/json)
    [  
       {  
          "Email":"test@$TESTING_DOMAIN",
          "Size":123,
          "Alias":"kms@mail.ru"
       }
    ]

## #DreddHook pop3/smtp testing [/api/email]
Pop3 and SMTP testing by python script.

### #DreddHook pop3/smtp testing [GET]

+ Response 202


## Remove Email boxes [/api/email/del]

Remove Email box.

### Remove Email box [POST]

+ Request (application/json)
    ["test@$TESTING_DOMAIN"]

+ Response 204 (text/plain)

### Remove non existent emailbox #Error [POST]

+ Request (application/json)
    ["testNotExistent@$TESTING_DOMAIN"]

+ Response




# Group DKIM
DKIM email keys.




## Add DKIM [/api/dkim/set]

Generates new DKIM key for domain and add it to EXIM and DNS record. If DKIM already exists it will be overwritten.

+ Attributes
  + Domain (required, string) - Domain name to generate.

### Generate new DKIM [POST]

+ Request (application/json)
    {  
       "Domain":"$TESTING_DOMAIN"
    }

+ Response 204 (text/plain)

## Get DKIM keys [/api/dkim/get]

Getting public and private DKIM keys for domain in request.

+ Attributes
  + Public (required, string) - Public DKIM key.
  + Private (required, string) - Private DKIM key.

### Get DKIM key [POST]

+ Request (application/json)
    {  
       "Domain":"$TESTING_DOMAIN"
    }

+ Response 200 (application/json)
    {  
        "Public":"public_key",
        "Private":"private_key"
    }

## Remove DKIM key from domain [/api/dkim/del]

Remove DKIM keys from domain(s).

### Remove DKIM keys [POST]

+ Request (application/json)
    ["$TESTING_DOMAIN"]

+ Response 204 (text/plain)

### Remove non existent DKIM key #Error [POST]

+ Request (application/json)
    ["notExisting.com"]

+ Response




# Group DNSBL spam lists
DNSBL Spam lists.




## Set list [POST /api/dnsbl/set]

Set list of dnsbl servers for stop spam.

+ Request (application/json)
        [
        "zen.spamhaus.org",
        "blackholes.mail-abuse.org"
        ]

+ Response 204 (text/plain)

## Get list of DNSBL servers [GET /api/dnsbl/list]

Get list of DNSBL servers.

+ Response 200 (application/json)
        [  
        "zen.spam.com"
        ]




# Group Exim Logs
Delivery and message queue log.





## Mail queue log [/api/eximlog/queue]
Outgoing mail queue log.

### Show total mail queue [GET]
Show total mail queue count.

+ Response 200 (application/json)
        {  
            "Count":8274
        }
        
### Show mail queue by date [POST]
Show mail queue by date.

+ Request (application/json)
        {  
            "Date":"04.04.2016"
        }

+ Response 200 (application/json)
        [  
            {  
                "ID":"dsgf892bsdfw254gd",
                "Time":"2015-08-09 14:45:21",
                "Size":2345,
                "Sender":"dsfds@dsf.com",
                "Recipient":"ddd@gmail.com",
                "Frozen":true
            }
        ]

### Show mail queue by date [POST]
Show mail queue by date.

+ Request (application/json)
        {  
            "Date":"04.04.2016"
        }

+ Response 200 (application/json)
        [  
            {  
                "ID":"dsgf892bsdfw254gd",
                "Time":"2015-08-09 14:45:21",
                "Size":2345,
                "Sender":"dsfds@dsf.com",
                "Recipient":"ddd@gmail.com",
                "Frozen":true
            }
        ]

### Show mail queue by email [POST]
To find some email in a queue.

+ Request (application/json)
        {  
            "Email":"example@example.com",
            "Date":"04.04.2016"
        }

+ Response 200 (application/json)
        [  
            {  
                "ID":"dsgf892bsdfw254gd",
                "Time":"2015-08-09 14:45:21",
                "Size":2345,
                "Sender":"dsfds@dsf.com",
                "Recipient":"ddd@gmail.com",
                "Frozen":true
            }
        ]




## Exim mail delivery log [/api/eximlog/delivery]

Mail delivery log.

### Show total mail delivery log [GET]
Show total mail delivery count.

+ Response 200 (application/json)
        {  
            "Count":8274
        }
        
### Show mail delivery by date [POST]
Show mail delivery log by date.

+ Request (application/json)
        {  
            "Date":"04.04.2016"
        }

+ Response 200 (application/json)
        [  
            {  
                "ID":"sjdfgb923uy4ybsffd",
                "DateTime":"2015-09-09 12:12:12",
                "From":"dsfdf@ad.com",
                "To":"tt@gmail.com",
                "User":"nik1",
                "Size":123,
                "Status":"Delivered",
                "Additional":""
            }
        ]


### Show mail delivery log by email [POST]
To find some email in a delivery log.

+ Request (application/json)
        {  
            "Email":"example@example.com",
            "Date":"04.04.2016"
        }

+ Response 200 (application/json)
        [  
            {  
                "ID":"sjdfgb923uy4ybsffd",
                "DateTime":"2015-09-09 12:12:12",
                "From":"dsfdf@ad.com",
                "To":"tt@gmail.com",
                "User":"nik1",
                "Size":123,
                "Status":"Delivered",
                "Additional":""
            }
        ]




# Group Domains statistics

ServerPanel gather ***Domains*** and ***URLs*** hits statistics directly from webserver and DNS.

There is no need to analyze large `access.log` files to retrieve web sites statistic. Its available at any time with minute delay.

> Statistics for websites stores at panel database for ***30 days*** period by default.

`Administrator` and `Users` can retrieve those statistics for all domains and filter it by particular urls and date interval.

![Domain statistics diagram](https://raw.githubusercontent.com/geeksteam/SHM-api-blueprint/master/images/NgStat.svg "Domain Statistic diagram")




## All domains statistic [/api/ngstat/get]

`Root` user (or Administrator) get count of hits for all domains at the server sorted by date interval.

As a response you'll get `Dates` objects with `Domain:hits` as a values.


### Get stats [POST]

Root will get stats for all Domains.

+ Attributes (DateInterval)

+ Request (application/json)

        {
            "From":"$DATE_YMD",
            "To":"$DATE_YMD"
        }

+ Response 200 (application/json)

            {  
                "$DATE_YMD":{  
                    "$TESTING_DOMAIN":6
                }
            }


### Get domains stats by #User [POST]
User will get stats only for his Domains.

+ Attributes (DateInterval)

+ Request (application/json)

        {  
            "From":"$DATE_YMD",
            "To":"$DATE_YMD"
        }

+ Response 200 (application/json)

            {  
                "$DATE_YMD":{  
                    "$TESTING_DOMAIN":6
                }
            }


## Statistic by URLs for Domain [/api/ngstat/getdomain]

Get URLs with count of hits for Domain and date interval.

As a response you'll get `Date` objects with `URL/path:hits` as value.


### Get URLs stats for Domain by #User [POST]

User can get stats for his Domains only.

+ Attributes (DomainStats)

+ Request (application/json)

        {  
            "From":"$DATE_YMD",
            "To":"$DATE_YMD",
            "Domain":"$TESTING_DOMAIN"
        }

+ Response 200 (application/json)

            {  
                "$DATE_YMD":{  
                    "$TESTING_DOMAIN/path1/index.html":1,
                    "$TESTING_DOMAIN/path2/index.html":3
                }
            }


## URLs statistics by Date [/api/ngstat/geturl]

Get URL statistic by dates and hits count.

As a response you'll get `Date:hits` array.


### Get stats by Dates for URL path as #User [POST]
+ Attributes (UrlStats)

+ Request (application/json)

        {  
            "From":"$DATE_YMD",
            "To":"$DATE_YMD",
            "Url":"$TESTING_DOMAIN/path2/index.html"
        }

+ Response 200 (application/json)

            {
            }




## Data Structures

### DateInterval
+ From (required, string) - Date from show statistic in 2099.12.31 format.
+ To (required, string) - Date to show statistic in 2099.12.31 format.

### DomainStats
+ Date Interval
+ Domain (required, string) - For which domain show statistics for urls pathes.

### UrlStats
+ Date Interval
+ Url (required, string) - For which url show dates and count statistic.




# Group Nginx
Nginx web server status page.




## Get nginx status [GET /api/nginx/status]
Getting nginx status information page.

+ Response 200 (application/json)
            {  
            "hostname":"vds",
            "server_version":"1.8.0",
            "basic_status":{  
                "active_connections":1,
                "server_accepts":2,
                "handled":2,
                "requests":2,
                "reading":0,
                "writing":1,
                "waiting":0
            },
            "requests":[  
                    {  
                        "client":"45.78.13.21",
                        "vhost":"93.58.28.25",
                        "request":"GET /handler HTTP/1.1",
                        "mode":"W",
                        "status":200
                    }
                ]
            }




# Group Watchdog Statistics
Watchdog statistics




## Disk space analyzer [GET /api/watchdog/diskanalyzer]
Disk space analyzer results.


+ Response 200 (application/json)
            {  
                "DiskAnalyzer":[  
                    {  
                        "Date":"Tue Nov 17 13:43:14 EET 2015",
                        "Content":{}
                    }
                ]
            }

## Background process killer [GET /api/watchdog/prockiller]
Background process killer statistic.


+ Response 200 (application/json)
            {  
                "ProcKiller":[  
                    {  
                        "Process":"Fri Nov 13 16:06:52 EET 2015",
                        "Killed":"bounce"
                    }
                ]
            }




## Getting System usage chart [GET /api/watchdog/chart]

+ Request (application/json)
            {  
                "Get":"SysStat",
                "Date":{  
                    "From":"$DATE_YMD 10:15",
                    "To":"$DATE_YMD 17:55",
                    "EntriesCount":24
                }
            }

+ Response 200 (application/json)
            {  
                "labels":[],
                "datasets":[
                    {  
                        "label":"CPU",
                        "data":[]
                    },
                    {  
                        "label":"RAM",
                        "data":[]
                    },
                    {  
                        "label":"SWAP",
                        "data":[]
                    },
                    {  
                        "label":"HDD",
                        "data":[]
                    },
                    {  
                        "label":"WA",
                        "data":[]
                    }
                ]
            }

## Getting Network usage chart [GET /api/watchdog/chart]

+ Request (application/json)
            {  
                "Get":"NetStat",
                "Date":{  
                    "From":"$DATE_YMD 10:15",
                    "To":"$DATE_YMD 17:55",
                    "EntriesCount":24
                }
            }

+ Response 200 (application/json)
            {  
                "labels":[],
                "datasets":[
                    {  
                        "label":"InMbitps",
                        "data":[]
                    },
                    {  
                        "label":"InPps",
                        "data":[]
                    },
                    {  
                        "label":"OutMbitps",
                        "data":[]
                    },
                    {  
                        "label":"OutPps",
                        "data":[]
                    }
                ]
            }

## Getting Traffic usage chart [GET /api/watchdog/chart]

+ Request (application/json)
            {  
                "Get":"Traffic",
                "Interface":"venet0",
                "Date":{  
                    "From":"$DATE_YMD 10:15",
                    "To":"$DATE_YMD 17:55",
                    "EntriesCount":24
                }
            }

+ Response 200 (application/json)
            {  
            "labels":[],
            "datasets":[  
                    {  
                        "label":"In",
                        "data":[]
                    },
                    {  
                        "label":"Out",
                        "data":[]
                    }
                ]
            }




# Group Server Time
Server time zone and NTP modification.





## Set timezone  [POST /api/timezone/set]
Set server timezone.

+ Request (application/json)
        {  
        "Timezone":"Europe/Kiev"
        }

+ Response 204 (text/plain)

## Get timezone  [GET /api/timezone/get]

Get server timezone.

+ Response 200 (application/json)
        {  
        "Timezone":"Europe/Kiev"
        }

## Set NTP servers  [POST /api/timezone/setntp]
Set NTP servers for time sync.

+ Request (application/json)
        ["3.ua.pool.ntp.org","1.ua.pool.ntp.org"]

+ Response 204 (text/plain)

## Get NTP servers  [GET /api/timezone/getntp]
Get current server NTP servers.

+ Response 200 (application/json)
        ["3.ua.pool.ntp.org","1.ua.pool.ntp.org"]




# Group Cron
System cron tasks.




## Setting Cron Jobs [POST /api/cron/set]

Remove all cron jobs for user and sets them from request.

+ Request (application/json)

        [
            {
                "User": "nobody",
                "Mail": "test@localhost",
                "Jobs":{
                    "@hourly":"echo 'Going from nobody!'>/tmp/cron_test"
                }
            },
            {
                "User": "root",
                "Mail": "test@localhost",
                "Jobs":{
                    "* * * * *":"echo 'Going from root!'>/tmp/cron_root_test"
                }
            }
        ]

+ Response 204 (text/plain)

## Setting Wrong Cron Job #Error [POST /api/cron/set]

Setting cron job with wrong parameters.

+ Request (application/json)

        [
            {
                "User": "root",
                "Mail": "test@localhost",
                "Jobs": {
                    "* * *":"echo 'Go!'>/tmp/cron_test"
                }
            }
        ]

+ Response

## Setting Job for #User permission #Error [POST /api/cron/set]

Only root can set cron jobs for another users. Users can set only they jobs.

+ Request (application/json)

        [
            {
                "User": "root",
                "Mail": "test@localhost",
                "Jobs": {
                    "* * * * *":"echo 'Go!'>/tmp/cron_test"
                }
            }
        ]

+ Response
       
## List all cron jobs [GET /api/cron/list]

Lists all cron jobs for all users.

+ Attributes
  + User (required, string) - Owner of the cron job.
  + Mail (required, array) - Mail for job messages.
  + Jobs (optional, object) - Cron jobs.

+ Response 200 (application/json)
        [
            {
                "User": "nobody",
                "Mail": "test@localhost",
                "Jobs": {
                    "@hourly":"echo 'Go!'>/tmp/cron_test"
                }
            }
        ]




# Group System packages
System packages of apt or yum.




## Search for packages [POST /api/syspackages/search]

Searches for packages in apt or yum.

+ Request (application/json)

        {
            "Package":"nano"
        }

+ Response 200 (application/json)
        [
            {
                "Name":        "httpd",
                "Description": "Apache httpd server",
                "Version":     "2.0.1",
                "Repo":        ""
            }
        ]

## Install packages [POST /api/syspackages/install]

Installing packages by apt or yum.

+ Request (application/json)
        {
            "Package":"nano",
            "Version":"",
            "Repo":""
        }

+ Response 204 (text/plain)

        
## List packages [POST /api/syspackages/list]

List installed system packages.

+ Response 200 (application/json)
          [
            {
                "Name":        "httpd-2.0.2",
                "Description": "This is apache web server",
                "Version":     "2.0.2",
                "Repo":        "epel"
            }
          ]

## Remove packages [POST /api/syspackages/remove]

Remove installed packages by apt or yum.

+ Request (application/json)

        ["nano","mc"]

+ Response 204 (text/plain)




# Group System Services
System services




## Set service [POST /api/services/set]

Set service on boot status.

+ Request (application/json)
        {
        "Service": "nginx",
        "Onboot":  true
        }

+ Response 204 (text/plain)

## Start or stop service [POST /api/services/push]

Start, stop or restart service.

+ Request (application/json)
        {
        "Service": "nginx",
        "Action":  "restart"
        }

+ Response 200 (application/json)
        {
            "Text":""
        }
        
## List services [GET /api/services/list]

List system panel services.

+ Response 200 (application/json)
        [
            {
                "Name":  "nginx",
                "Status": true,
                "Onboot": true
            }
        ]




# Group System Processes
System processes.




## Processes list [GET /api/ps/list]

List of server processes.

+ Response 200 (application/json)
        [
            {
                "Pid": 1,
                "Name": "systemd",
                "UserID": 0,
                "Start": "2016-03-30 10:57:22 +0300 EEST",
                "Time": "107h0m10.665142875s",
                "CPU": 0,
                "Mem": 3432,
                "Command": "init -z",
                "State": "S (sleeping)"
            }
         ]

## Show process files and sockets [POST /api/ps/nodes]

Show process files and network/local sockets

+ Request (application/json)
        {
            "Pid":1
        }

+ Response 200 (application/json)
            [
                {
                    "FD":"",
                    "Type":"",
                    "Node":"",
                    "Name":""
                }
            ]

## Kill processes by PID [POST /api/ps/kill]

Kill processes by PIDs.

+ Request (application/json)
        [259909]

+ Response 204 (text/plain)

## Kill processes by Name [POST /api/ps/killbyname]

Kill processes by its names.

+ Request (application/json)
        ["python"]

+ Response 204 (text/plain)

## Kill processes by User [POST /api/ps/killbyuser]

Kill processes by owner.

+ Request (application/json)
        ["nobody"]

+ Response 204 (text/plain)




# Group Open SSH server
Manipulating OpenSSH server keys and settings.




## Get current settings [GET /api/openssh/settings/get]

Get openssh server settings.

+ Response 200 (application/json)
        {
            "Port":                   22,
            "MaxAuthTries":           2,
            "PermitRootLogin":        true,
            "PasswordAuthentication": true,
            "AllowUsers":             ["usr1", "usr2"]
        }

## Set current settings [GET /api/openssh/settings/set]

Get openssh server settings.

+ Request (application/json)
        {
            "Port":                   22,
            "MaxAuthTries":           9,
            "PermitRootLogin":        true,
            "PasswordAuthentication": true,
            "AllowUsers":             ["root","shm_test_user"]
        }

+ Response 204 (text/plain)




## Create private key and add public [POST /api/openssh/keys/create]

Creates new private key and add public key of new generated to server's authorized keys.

+ Request (application/json)
        {
            "Password":"dredd_test"
        }

+ Response 200 (application/json)
        {
            "PrivateKey":"...Key..."
        }

## Add public key [GET /api/openssh/keys/import]

Import public key and add to authorized keys.

+ Request (application/json)
        {
            "PublicKey":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCtNc8Y27kJqpX/gf4xALpcG82dLHT0Hs2ZyOJ+8/EEjHp316jr05Z3dqfjPTVng02H2bnT4EaPKhGbw5Pf4fDED/wTORokfjTYEN9rFjVh4KhHGwdDGXx7RuuFw64l+UeSBUD/IH/QcWIDSEVcfEU7FKgskFie+C9/xdjiiSHAKjD4azjnU2DlIaIKR8jglZakZm5ZaZgDF6jPS7mqDk4nwM+giLw86DPpK9RYnxZ/k8kFlR/fr1htpC2c01NWpNu/yLCygOBc0R5CnprkrPR2repPEJyjYbynV7bvBEe3GbmoUp59KtmuQ0H7+0KedvJ8YmotSn+LbPCGBAhDRW0vPG/PItCFTxwYEAe1wIQqizhepFl0cGg7F82YbEe9O3gi3h2zrTXsPRNVK4cAlLsC/5J8vzevwhB6l9+XI8JQORsUoxuw6NuIO9590hFzYmaykcUZOIXX5WmIWMUjr9Fpz76LL7v9VZF4Z6Ozs7GyifGCTqyqOxxLssa6GitNxjs88ZiHXnhaE1fxEqB2wjbnGdAgoWsa5c8GB3UktehlWlT3ToLvH6vqfMXZV0ndRxDhtMlDmDzm9mGefZzxQMFVsd6y5O60NXVNbMaC+faHb3q4/fUJ+iQyfvWBUjnOAa05ImRoduK3qcAThsMDaVGqx4d1aVOjELjuPJMt6BRweQ== kalashnikovm@mail.ru"
        }

+ Response 204 (text/plain)

## List keys [GET /api/openssh/keys/list]

List authorized public keys list.

+ Response 200 (application/json)
        [
            {
                "Name": "Key1",
                "Type": "DES"
            }
        ]

## Remove keys [GET /api/openssh/keys/remove]

Remove authorized keys by index


+ Request (application/json)
        [3,4]

+ Response 204 (text/plain)




# Group Shell commands
Executes shell commands on the server.




## Execute command [POST /api/shell/exec]

Creating SSL CSR and Key file.
Regular user must add domain to WebDomains to own this domain name.

+ Attributes
    + Cmd (required,string) - Shell command(s) to execute.
    + Output (required,string) - Combined output from command.

+ Request (application/json)
        {  
           "Cmd":"cd /tmp; ls -all;"
        }

+ Response 200 (application/json)
        {
            "Output":""
        }




# Group Iptables firewall
Iptables firewall rules.




## Add new rule to iptables [POST /api/iptables/add]

Add new rule to iptables firewall.

+ Request (application/json)
            {
                "Chain": "INPUT",
                "Action": "ACCEPT",
                "Rulenum": 1,
                "Source": "93.183.203.111",
                "Destination": "",
                "Protocol": "TCP",
                "SourcePort": 8080,
                "DestinationPort": 8080
            }

+ Response 204 (text/plain)

## Edit rule in iptables [POST /api/iptables/set]

Edit rule in iptables settings.

+ Request (application/json)
            {
                "Chain": "INPUT",
                "Action": "ACCEPT",
                "Rulenum": 1,
                "Source": "80.91.191.222",
                "Destination": "81.91.91.22",
                "Protocol": "TCP",
                "SourcePort": 9090,
                "DestinationPort": 9988
            }

+ Response 204 (text/plain)

## List iptables rules [GET /api/iptables/list]

List all iptables rules.

+ Response 200 (application/json)
            [
                {
                    "Name": "INPUT",
                    "Action": "ACCEPT",
                    "Rules": [
                        {
                            "Rulenum": 1,
                            "Source": "93.183.203.111",
                            "Destination": "",
                            "Protocol": "TCP",
                            "SourcePort": 8080,
                            "DestinationPort": 8080,
                            "Additional": "",
                            "Action": "ACCEPT"
                        }
                    ]
                }
            ]

## Remove iptables rule [POST /api/iptables/remove]

Remove iptables rule.

+ Request (application/json)
        {
            "Chain": "INPUT",
            "Rulenum": 1
        }

+ Response 204 (text/plain)

## Remove iptables rule #Error [POST /api/iptables/remove]

Remove unexistent iptables rule.

+ Request (application/json)
        {
            "Chain": "INPUT",
            "Rulenum": 99
        }

+ Response




# Group Fail2ban
Fail2ban rules




## Set global settings [POST /api/fail2ban/setsettings]

Set global fail2ban settings

+ Attributes
  + IgnoreIP (required, string) - IP which be ignored.
  + Bantime (required, number) - Number seconds to ban.
  + Findtime (required, number) - Interval in seconds to scan logs.
  + Maxretry (required, number) - Maximal retry attempts before ban.

+ Request (application/json)
        {
            "IgnoreIP": "93.183.203.11", 
            "Bantime": 333, 
            "Findtime": 222, 
            "Maxretry": 12 
        }

+ Response 204 (text/plain)

## Get global settings [GET /api/fail2ban/getsettings]

Get global fail2ban settings

+ Response 200 (application/json)
        {
            "IgnoreIP": "93.183.203.11", 
            "Bantime": 333, 
            "Findtime": 222, 
            "Maxretry": 12 
        }
        
## Get services settings [GET /api/fail2ban/list]

Get services settings.

+ Response 200 (application/json)
            { 
                "proftpd": {}
            }




# Group Network
System network settings.




## Set server hostname [POST /api/network/sethostname]
Set server hostname.

+ Request (application/json)

            {
                "Hostname":"shmv1.geeks.team"
            }
       
+ Response 204 (text/plain)

## Get IP list [GET /api/network/iplist]
Getting list of ip addresses.

+ Response 200 (application/json)

            [
                "127.0.0.1"
            ]

## Set DNS resolvers [POST /api/network/resolversset]
Set DNS resolvers list.

+ Request (application/json)

            ["8.8.8.8","8.8.9.9"]
       
+ Response 204 (text/plain)

## Get DNS resolvers [POST /api/network/resolversget]
Set DNS resolvers list.

+ Response 200 (application/json)

            [
                "8.8.8.8",
                "8.8.9.9",
                "93.183.203.2"
            ]

## Check DNS resolvers [POST /api/network/resolverscheck]
Check each DNS resolver and return fail resolver index.

+ Response 200 (application/json)

            [ 3 ]


## Get Network connections [GET /api/network/connections]
Get network connections.

+ Response 200 (application/json)

            [
                {
                    "Protocol":"tcp",
                    "LocalAdd":"0.0.0.0:22",
                    "ForeignAdd":"0.0.0.0:*",
                    "State":"LISTEN",
                    "Program":"sshd",
                    "PID":4135
                }
            ]


## Get sockets [GET /api/network/sockets]
Get unix sockets.

+ Response 200 (application/json)

            [
                {
                    "Type":"STREAM",
                    "State":"LISTENING",
                    "Program":"watchdog",
                    "PID":19004,
                    "Path":"/var/run/ngstat.sock"
                }
            ]




# Group IP addresses
Server IP addresses.




## IP address reconfiguration [GET /api/ip/reconfigure]

Add new IP addresses and remove non-existent.

+ Response 204 (text/plain)

## List IP addresses [GET /api/ip/list]

List all IP addresses.

+ Response 200 (application/json)

        { "$SERVER_IP": 
          { 
            "Users":["user1","user2"], 
            "Comment":"Shared IP address" 
          }
        }

## Set IP address settings [POST /api/ip/set]

+ Request (application/json)
      
        { "$SERVER_IP": 
          { 
            "Users":["user1","user2","regularUser"], 
            "Comment":"Shared IP address, commented by test" 
          }
        }
      

+ Response 204 (text/plain)




# Group Messages
User messages for chatting, system information and etc.




## Send message [GET /api/messages/send]
Send message to user.

+ Attributes
    + To (required, string) - Username of reciever.
    + Title (required, string) - Title of the message.
    + Text (required, string) - Text of the message.
    + Type (optional, string) - Messages beetwen users have `info` type. System messages may have `Error` or `Alert` types.

+ Request (application/json)
        {
            "To":"$USER_NAME",
            "Title":"Hey, test is here!",
            "Text":"There is some test message from judge DREDD."
        }

+ Response 204 (text/plain)

## Send message #Error [GET /api/messages/send]
Send message to unexistent user.

+ Request (application/json)
        {
            "To":"noSuchUserHere",
            "Title":"Hey, test is here!",
            "Text":"There is some test message from judge DREDD."
        }

+ Response

## List #User messages [GET /api/messages/list]
List all user messages.

+ Response 200 (application/json)
        [  
            {  
                "ID":4842,
                "Read":false,
                "Datetime":"2022-12-12 13:12:43",
                "From":"root",
                "To":"$USER_NAME",
                "Type":"Alert",
                "Title":"Send me some money",
                "Text":"Hi from there!"
            }
        ]

## Clear all #User messages [GET /api/messages/clear]
Delete all user messages.

+ Response 204 (text/plain)




# Group Journal
Journal of all actions of users in panel.

## List journal records [POST /api/journal/list]

List all journal records for username and datetime interval.

+ Request (application/json)
            {
            "Username": "$USER_NAME",
            "DateFrom": "2006-01-02T15:04:05+02:00",
            "DateTo":   "2017-01-02T15:04:05+02:00"
            }

+ Response 200 (application/json)
            
            [
                {
                    "SessionID": "874632768234",
                    "Date":      "2006-01-02T15:04:05Z07:00",
                    "Username":  "root",
                    "Operation": "domain/add",
                    "Content":   "",
                    "Extra":     ""
                }
            ]




# Group Panel Sessions
Active panel sessions

## List all panel sessions [GET /api/sessions/list]
Lists all active panel users sessions.

+ Response 200 (application/json)

            [
                {
                    "ID": "hLcIzwSCDRuPhKEKSMpvFkas",
                    "IP": "195.242.161.206",
                    "Created": 1459516459,
                    "LastActivity": 1459516470,
                    "Username": "root",
                    "UserAgent": "Dredd/1.0.8 (Linux 2.6.32-042stab106.4; x64)",
                    "Theme": "",
                    "Language": "",
                    "Template": "",
                    "LastHandlers": {}
                }
            ]

## Close session [GET /api/sessions/del]

Root can close certain panel session.

+ Request (application/json)

        {
            "SessionID": "dsfkg3984bfv92fsdfsdf"
        }
            
+ Response 204 (text/plain)




# Group Core information
Core information gives verbose information about panel's core settings, and live system statistic.




## WebSocket Live system resources usage [GET /api/core/livesysstat]
Send live system resources usage statistics and system processes list to WebSocket as a message every second.

+ Response 200 (application/json)
            {
                "CPU":10,
                "RAM":11,
                "SWAP":12,
                "WA":0,
                "PS":
                {
                    "Pid":132,    
                    "Name":"httpd",
                    "UserID":0,
                    "Start":"2016-01-11",
                    "Time":"12:01",
                    "CPU":1,
                    "Mem":2, 
                    "Command":"/usr/bin/httpd", 
                    "State":"active"
                }
            }

## Getting core config [GET /api/core/config]
Returns all current panel settings.

+ Response 200 (application/json)
            {
            "Core": {
                "Debug": true,
                "ListenPort": 8090,
                "SSL": false
                }
            }

## Current Http requests [GET /api/core/httpstats]
Returns current http(s) executing request by web-server.

+ Response 200 (application/json)
            {}

## Background running processes [GET /api/core/gorm]
Returns panel's background processes running.

+ Response 200 (application/json)
            [
                {
                    "Started": "Apr 21 04:18:30.824",
                    "Type": "main/init unreadToEmail service",
                    "User": "",
                    "Description": "Getting user's unread messages and send em to user's email."
                }
            ]

## Core Memory usage [GET /api/core/memstat]
Panels process(es) memory usage and number of threads.

+ Response 200 (application/json)
            {
                "NumGoroutine": 1,
                "Cwd": "/usr/local/shm",
                "MemStats": {}
            }

## System resources statistic [GET /api/core/sysstat]
System resources usage statistic.

+ Response 200 (application/json)
            {
                "CPUuser": 0,
                "CPUSystem": 0,
                "CPUIdle": 100,
                "WA": 0,
                "RAM": 53.47,
                "Swap": 0,
                "Uptime": 0,
                "LoadAverage": "0.00 0.00 0.00",
                "DiskUsage": 3.79,
                "Hostname": "shmv1.geeks.team",
                "Timezone": "EDT"
            }

## System OS and hardware information [GET /api/core/sysinfo]
Information about OS and system hardware.

+ Response 200 (application/json)
            {
                "OS": "CentOS 7.1.1503 x86_64\n",
                "Kernel": "Linux 2.6.32-042stab112.15 #1 SMP Tue Oct 20 17:22:56 MSK 2015\n",
                "Processor": {},
                "RamSize": 4096,
                "FsSize": 61440,
                "PhysDisks": []
            }

## Panel API handlers [GET /api/core/handlers]
All panel API handlers.

+ Response 200 (application/json)
            [
                "/api/core/handlers"
            ]




# Group API Triggers
API triggers run while certain api handler run

## List triggers [GET /api/triggers]

List all registered API triggers and count of they usage.

+ Response 200 (application/json)
            
            [
                {
                "Trigger": "api/domains/add", 
                "Count": 999
                }
            ]




# Group User Backups
User backups




## Create backup [GET /api/ubackup/create]

Create user backup, include web domains files, mysql and pgsql datbases, apache and nginx configs, exim config.
Backup creation runs in separate process and send internal message to user when backup is done.

+ Response 204 (text/plain)

## List backups [GET /api/ubackup/list]

List user backups.

+ Response 200 (application/json)
        [
            {
                "Name":"testbackup_data_time.tar.gz",
                "Size":999
            }
        ]
        
## Restore backup [POST /api/ubackup/restore]
Restore user backup. During restore users data may be overwriten.
Restore user backup can be done only logged as user account.

+ Request (application/json)
        {
            "Archive":"$BACKUP_NAME",
            "IP":"$SERVER_IP",
            "MySQLUser":"DBUser1",
            "PgSQLUser":"DbTester",
        }

+ Response 204 (text/plain)

## Restore backup #Error [POST /api/ubackup/restore]

Restore error if backup file not found.

+ Request (application/json)
        {
            "Archive":"backup_file_notexist.tar.gz",
            "IP":"$SERVER_IP",
            "MySQLUser":"DBUser1",
            "PgSQLUser":"DbTester",
            "DNS":true
        }

+ Response

## Delete backup [POST /api/ubackup/delete]

Delete user backup.

+ Request (application/json)
        [
            "$BACKUP_NAME"
        ]

+ Response 204 (text/plain)

## Delete backup #Error [POST /api/ubackup/delete]

Delete error if backup file not found.

+ Request (application/json)
        [
            "NoSuchBackupFile.tar.gz"
        ]

+ Response




# Group Perl packages
Perl packages




## Search Perl packages in cpan [POST /api/perl/search]

Search for perl packages in CPAN

+ Request (application/json)

        ["DBD::mysql"]

+ Response 200 (application/json)

        [
            {    
            "Name":    "db::MySQL",
            "Version": "1.02-b"
            }
        ]

## Install Perl cpan package [POST /api/perl/install]

Install perl package from CPAN.

+ Request (application/json)

        ["DBD::mysql", "Time::Local"]

+ Response 200 (application/json)

        [
            "Output"
        ]

## List all installed Perl packages [GET /api/perl/list]

List all installed Perl packages.

+ Response 200 (application/json)

        [
            "Output"
        ]




# Group Ruby Gems
Ruby gems packages.




## Search Ruby Gems [POST /api/ruby/search]

Search for ruby gems.

+ Request (application/json)

        ["radar-mysql"]

+ Response 200 (application/json)

        [
            {
                "Name":        "Package",
                "Version":     "1.0.9",
                "Description": "sql driver"
            }
        ]

## Install Gem package [POST /api/ruby/install]

Install Ruby gem package.

+ Request (application/json)

        ["zabbapi"]

+ Response 200 (application/json)

        [
            "Output"
        ]
        
## Install Gem package #Error [POST /api/ruby/install]

Install Ruby gem package with error.

+ Request (application/json)

        ["nosuchgem"]

+ Response

## List installed Ruby Gems packages [GET /api/ruby/list]

List all installed Ruby packages.

+ Response 200 (application/json)

        [
            {
                "Name":        "Package",
                "Version":     "1.0.9",
                "Description": "sql driver"
            }
        ]

## Update Ruby Gems [GET /api/ruby/update]

Updates Ruby gems packages and system gem package.

+ Request (application/json)

        ["google"]

+ Response 200 (application/json)

        [
            "Output"
        ]

## Remove Gem package [POST /api/ruby/remove]

Remove Ruby gem package.

+ Request (application/json)

        ["google"]

+ Response 200 (application/json)

        [
            "Output"
        ]





# Group ClamAV antivirus
ClamAV antivirus.




## Start ClamAV scan [POST /api/clamav/scan]
Start ClamAV scanner and send user message after scan finish.

+ Request (application/json)
        {  
            "Dir":"/var"
        }
        
+ Response 204 (text/plain)




# Group Plugins
Panel plugins




## List all Plugins from repository [GET /api/plugins/list]
List all plugins from repository.

+ Response 200 (application/json)
        [
            {
                "Installed": true,
                "Name": "slack",
                "Version": "1.0.1b",
                "Author": {
                    "Name": "Pavlo Zibrow",
                    "Url": "https://slack.com"
                    },
                "Description": "Slack server messages notification",
                "Urls": [
                    "http://9521.geeks.team/slack.tar.gz"
                    ],
                "Tasks": {},
                "Triggers": {}
            }
        ]

## Start Plugin task #Error [GET /api/plugins/task?plugin=slack&bin=nonexistentbin]
Start non existent plugin programm from /bin directory as a background task.


## Remove Nonexistent Plugin #Error [POST /api/plugins/del]
Remove non existent plugin from system

+ Request (application/json)
        [ "NonExistentPlugin" ]

+ Response




# Group Plugin PhpMyAdmin
Plugin PhpMyAdmin test




## Install PhpMyAdmin Plugin [POST /api/plugins/install]
Install PhpMyAdmin plugin from repository

+ Request (application/json)

        {
            "Plugin":"pmainstaller"
        }

+ Response 204 (text/plain)

## Add pmainstall to domain as #User [POST /api/webdomains/set]
Add pmainstall true to install phpmyadmin on domain.

+ Request (application/json)

         {
            "Name":"$TESTING_DOMAIN",
            "Active":true,
            "Alias":"www.$TESTING_DOMAIN site.$TESTING_DOMAIN",
            "Ip":"$SERVER_IP",
            "IndexFile":"index.html index.php",
            "Encoding":"utf8",
            "Subdomains":true,
            "PHP":"fpm_nginx",
            "DNS":true,
            "SSL":false,
            "Analytics":true,

            "pmainstall":true
        }

+ Response 204 (text/plain)


## Remove PhpMyAdmin Plugin [POST /api/plugins/del]
Remove PhpMyAdmin plugin from system

+ Request (application/json)

        [ "pmainstaller" ]

+ Response 204 (text/plain)




# Group Plugin Roundcube
Plugin Roundcube test




## Install Roundcube Plugin [POST /api/plugins/install]

Install Roundcube plugin from repository


+ Request (application/json)

        {
            "Plugin":"roundcube"
        }

+ Response 204 (text/plain)

## Add RoundCube WebMail to domain as #User [POST /api/webdomains/set]

Add Roundcube true to install Roundcube on domain.

+ Request (application/json)

         {  
            "Name":"$TESTING_DOMAIN",
            "Active":true,
            "Alias":"www.$TESTING_DOMAIN site.$TESTING_DOMAIN",
            "Ip":"$SERVER_IP",
            "IndexFile":"index.html index.php",
            "Encoding":"utf8",
            "Subdomains":true,
            "PHP":"fpm_nginx",
            "DNS":true,
            "SSL":false,
            "Analytics":true,

            "roundcube":true
        }

+ Response 204 (text/plain)

## Remove RoundCube Plugin [POST /api/plugins/del]

Remove Roundcube plugin from system

+ Request (application/json)

        [ "roundcube" ]

+ Response 204 (text/plain)




# Group Plugins Slack
Plugins Slack tests




## Install Slack Plugin [POST /api/plugins/install]

Install plugin from repository

+ Attributes
  + Plugin (required, string) - Name of the plugin to install.

+ Request (application/json)
        {
            "Plugin":"slack"
        }

+ Response 204 (text/plain)

## Install Slack Plugin #Error [POST /api/plugins/install]

Install non existent plugin from repository

+ Request (application/json)
        {
            "Plugin":"PluginNotExist"
        }

+ Response

## Set Slack plugin settings [POST /api/plugins/setsettings?plugin=slack]

Set settings.json for plugin.

+ Request (application/json)
        {
            "Users":[
                    {
                        "Name":"regularUser",
                        "Token":"$SLACK_TOKEN",
                        "Channel":"#godev"
                    }
                ]
        }

+ Response 204 (text/plain)

## Get Slack plugin settings [POST /api/plugins/getsettings]

Get settings.json of plugin.

+ Request (application/json)
        { 
            "Plugin":"slack"
        }

+ Response 200 (application/json)
        {
            "Users":[
                {
                    "Name":"regularUser",
                    "Token":"$SLACK_TOKEN",
                    "Channel":"#godev"
                }
            ]
        }

## Start Slack Plugin task watcher [GET /api/plugins/task?plugin=slack&bin=slackpluginwatcher]

Start plugin programm from /bin directory as a background task.

+ Response 204 (text/plain)


## Remove Slack Plugin [POST /api/plugins/del]
Remove Slack Plugin

+ Request (application/json)
        [ "slack" ]

+ Response 204 (text/plain)




# Group Plugin WordPress
Plugin WordPress test




## Install Wordpress Plugin [POST /api/plugins/install]
Install Wordpress plugin from repository.

+ Request (application/json)

        {
            "Plugin":"wpinstaller"
        }

+ Response 204 (text/plain)

## Install Wordpress to domain dir as #User [POST /api/webdomains/set]
Add wordpress_install_dir to install WP on domain's directory.

+ Request (application/json)

         {  
            "Name":"$TESTING_DOMAIN",
            "Active":true,
            "Alias":"www.$TESTING_DOMAIN site.$TESTING_DOMAIN",
            "Ip":"$SERVER_IP",
            "IndexFile":"index.html index.php",
            "Encoding":"utf8",
            "Subdomains":true,
            "PHP":"fpm_nginx",
            "DNS":true,
            "SSL":false,
            "Analytics":true,

            "wordpress_install_dir":"wordpress"
        }

+ Response 204 (text/plain)

## Remove Wordpress Plugin [POST /api/plugins/del]
Remove Wordpress plugin from system.

+ Request (application/json)

        [ "wpinstaller" ]

+ Response 204 (text/plain)




# Group Remove Test environment
Remove test environment.

## Remove dirs for ZIP archive testing as Root [POST /api/filemanager/del]

+ Request (application/json)
        [
            "/var/www/test_archives/zip"
        ]

+ Response 204 (text/plain)

## Remove dirs for TAR archive testing as Root [POST /api/filemanager/del]

+ Request (application/json)
        [
            "/var/www/test_archives/tar"
        ]

+ Response 204 (text/plain)




# Group Logout

To close current session user can logout by request. This is not necessary but recommended to close the session.
If user is inactive for 1800 seconds, session will be destroyed by the panel itself. 
You can change this value in config file at `GHttp.SessionLifeTime`.

## #User logout [GET /logout]
Close the regular user session.

+ Response 204 (text/plain)

## Root logout [GET /logout]
Administrator `root` session close.

+ Response 204 (text/plain)




